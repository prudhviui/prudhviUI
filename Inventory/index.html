<!DOCTYPE html>
<html ng-app="BookStoreApp">

  <head>
    <meta charset="utf-8" />
    <title>AngularJS Book Store Inventory Manager</title>
    <link data-require="bootstrap@3.3.7" data-semver="3.3.7" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <!--script data-require="bootstrap@3.3.7" data-semver="3.3.7" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script-->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/jasmine/2.5.2/jasmine.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jasmine/2.5.2/jasmine.min.js">
    </script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jasmine/2.5.2/jasmine-html.min.js">
    </script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jasmine/2.5.2/boot.min.js">
    </script>
    <script data-require="angular.js@1.6.1" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js" data-semver="1.5.11"></script>
    <script src="https://unpkg.com/systemjs@0.19.39/dist/system.src.js"></script>
    <script src="https://cdn.rawgit.com/angular/angular.io/b3c65a9/public/docs/_examples/_boilerplate/systemjs.config.web.js"></script>
    <script src=" https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular-mocks.js">
    </script>
       
    <script src="./app.js">
      
    </script>
    <script>
    document.write('<base href="' + document.location + '" />');
  </script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container" ng-controller="BookStoreCtrl">
      <div>
        <div class="row">
          <div class="well">
            <form class="form-horizontal">
              <h3>AngularJS Book Store Inventory Manager {{test}}</h3>
              <hr />
              <div class="form-group">
                <label for="title" class="col-sm-3 control-label">Title</label>
                <div class="col-sm-5">
                  <input type="text" name="title" class="form-control" placeholder="Book Title" ng-model="book.title"/>
                </div>
              </div>
              <div class="form-group">
                <label for="name" class="col-sm-3 control-label">Type</label>
                <div class="col-sm-5">
                  <select class="form-control"  ng-model="book.type"></select>
                </div>
              </div>
              <div class="form-group">
                <label for="isbn" class="col-sm-3 control-label">ISBN Number</label>
                <div class="col-sm-5">
                  <input type="text" name="isbn" class="form-control" placeholder="1234567890" ng-model="book.isbn" />
                </div>
              </div>
              <div class="form-group">
                <label for="author" class="col-sm-3 control-label">Author</label>
                  
                    <div class="col-sm-5">
                      <input type="text" name="author" class="form-control" placeholder="Author Name"  ng-model="book.author"/>
                    </div>
                    <div class="col-sm-2 text-right">
                      <!-- <button class="btn btn-primary" ng-click="removeAuthor()" ng-disabled="!book.isbn">Remove</button> -->
                      <button class="btn btn-primary auth_btns"  id="submit" ng-click="addAuthor();">Add</button>
                    </div>
                    <div ng-show="book.authors.length>0" ng-repeat="at in book.authors">
                    <div class="col-sm-5">
                      <input type="text" name="author" class="form-control" placeholder="Author Name"  value="{{at}}" readonly />
                    </div>
                    <div class="col-sm-2 text-right">
                      <button class="btn btn-primary auth_btns" ng-click="removeAuthor($index)">Remove</button>
                     <!-- <button class="btn btn-primary" type="submit" id="submit" ng-click="addAuthor();" ng-disabled="!book.isbn">Add</button>-->
                    </div>
                    </div>
              </div>  
              <div class="col-sm-12">
                <hr />
              </div>
              <div class="col-sm-9 col-sm-offset-3">
                <input type="button" value="Save Book" class="btn btn-primary pull-right" ng-click="saveBook();"/>
              </div>
            </form>
            <div class="clearfix"></div>
          </div>
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <th>Title</th>
                <th>Type</th>
                <th>ISBN Number</th>
                <th colspan="2">Author</th>
                <th class="text-right">Action</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="book in books">
                <td>{{book.title}}</td>
                <td>{{book.type}}</td>
                <td>{{book.isbn}}</td>
                <td colspan="2">
                  <div>
                    <strong >{{book.authors.join()}} </strong>
                  </div>
                </td>
                <td class="text-right">
                  <a href="#" ng-click="updateBook($index)">update</a>
 |                   <a href="#" ng-click="deleteBook($index)">delete</a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    
    
  </body>

</html>
